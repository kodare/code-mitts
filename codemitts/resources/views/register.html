{% extends "base.html" %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-sm-offset-3">
                <h1>New user</h1>
                {% if not session.auth_session %}
                    <p>
                        So you're new here, huh? Nice to meet you!
                    </p>
                    <p>
                        To get started with creating your new account  - please
                        sign in with OAuth.
                    </p>
                    <p>
                        There probably will be some questions asked about
                        allowing CodeMitts to get information about you from
                        the service. Make sure you're comfortable with
                        CodeMitts getting hold of this before you agree with
                        anything.
                    </p>
                    <a
                        href="/authentication/oauth_sign_in"
                        class="btn btn-primary btn-block btn-lg">
                        Sign in with OAuth
                    </a>
                {% else %}
                    <p>
                        Now that you're signed in with OAuth please tell us
                        some more about you so we can set up an account for you.
                    </p>
                    <form
                        role="form"
                        action="/user/sign_up"
                        method="post">
                        <div class="form-group">
                            <label for="username">What name do you want to go by?</label>
                            <input
                                id="username"
                                name="username"
                                placeholder="Username"
                                class="form-control"
                                type="text" />
                        </div>
                        <div class="form-group">
                            <label>
                                <input
                                    name="license_agreement"
                                    id="license-agreement"
                                    type="checkbox" />
                                I accept that my name, email address and stuff like that is stored in the system
                            </label>
                        </div>
                        <input
                            class="btn btn-primary btn-block btn-lg"
                            type="submit"
                            value="Sign up" />
                    </form>
                    <h2>Changed your mind?</h2>
                    <p>
                        If you've changed your mind about signing up please go
                        revoke the CodeMitts application from the OAuth service.
                        The system won't use this access but you should always
                        stay on the safe side.
                    </p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
